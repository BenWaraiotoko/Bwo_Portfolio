<!-- Shortcode pour afficher le graphe interactif -->
<!-- Usage dans un fichier .md -->

<div class="knowledge-graph-container" style="margin: 2rem 0;">
  <div id="knowledge-graph" style="width: 100%; min-height: 600px; background-color: #1F1F28; border-radius: 8px; border: 1px solid #363646; overflow: hidden;"></div>
  
  <div class="graph-controls" style="margin-top: 1rem; text-align: center; color: #C8C093; font-size: 0.9rem;">
    <p>
      <strong style="color: #E46876;">ðŸ’¡ Interaction :</strong> 
      Clique et glisse les nÅ“uds â€¢ Scroll pour zoomer â€¢ Double-clique pour naviguer
    </p>
  </div>
</div>

<!-- Chargement de D3.js si pas dÃ©jÃ  prÃ©sent -->
<script>
  if (typeof d3 === 'undefined') {
    const script = document.createElement('script');
    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js';
    script.integrity = 'sha512-TwY5O9ry9SJP6X2SJJqzZxXySPCJHYdz8PfG2Ps+XofLt5s1O1nZB1PyE3B3xbKd4WrTqW6P8z8gF2P1D6KnpA==';
    script.crossOrigin = 'anonymous';
    document.head.appendChild(script);
    
    script.onload = function() {
      loadGraphScript();
    };
  } else {
    loadGraphScript();
  }
  
  function loadGraphScript() {
    if (!document.getElementById('knowledge-graph-script')) {
      const graphScript = document.createElement('script');
      graphScript.id = 'knowledge-graph-script';
      graphScript.src = '/js/knowledge-graph.js';
      document.body.appendChild(graphScript);
    }
  }
</script>

<style>
  .knowledge-graph-container {
    animation: fadeIn 0.6s ease-out;
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .graph-controls p {
    background-color: #16161D;
    padding: 0.8rem 1.5rem;
    border-radius: 6px;
    border: 1px solid #363646;
    display: inline-block;
  }
  
  .graph-controls strong {
    font-weight: 700;
  }
</style>